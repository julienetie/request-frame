<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>FPS demo</title>
</head>

<body>
    <div id='water'></div>
    <script src="../dist/request-frame.js"></script>
    <script>
    var request = requestFrame('request');
    // Just add water
    var div = document.getElementById('water'); // Demo 





    /**
     * setFPS sets the frame rate of the rAF function
     * with minimum overhead.
     * @Copyright Julien Etienne 2015
     * @License MIT
     */
    function setFPS(callback, rAF, fps) {  
        this.fPSTimeStamp = 0;
        this.fpsDelay = Math.round(1000 / fps);
        
        (function loopCallback(time) {
            if (time > fPSTimeStamp) {
                var t = (time + this.fpsDelay);
                fPSTimeStamp = Math.round(t/fpsDelay) * fpsDelay;
                callback();
            }
            rAF(loopCallback);
        }());
    }

    // Demo
    function showFPSTime() {
        div.innerHTML = this.fPSTimeStamp;
    }

    // Demo
    setFPS(showFPSTime, request, 1);
    </script>
</body>

</html>
